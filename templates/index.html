{% extends "base.html" %}

{% block content %}
<body
    class="bg-[url('/static/penguin-background.webp')] bg-cover w-screen h-screen flex flex-col items-center justify-center gap-4">

    <script>
        async function explainJoke(joke) {
            console.log("Explain joke: " + joke);
            var url = "{{ api_url }}" + "/explain?joke=" + joke;
            console.log("URL: " + url);
            const response = await fetch(url);
            const data = await response.json();
            console.log(data);
            return data["text"];
        }

        async function readJoke(joke) {
            console.log("Read joke: " + joke);
            var url = "{{ api_url }}" + "/read?joke=" + joke;
            console.log("URL: " + url);
            const response = await fetch(url);
            const data = await response.json();
            console.log(data);
            return data["audio_path"];
        }

        async function drawJoke(joke) {
            console.log("Draw joke: " + joke);
            var url = "{{ api_url }}" + "/draw?joke=" + joke;
            console.log("URL: " + url);
            const response = await fetch(url);
            const data = await response.json();
            console.log(data);
            return data["audio_path"];
        }


    </script>

    {% include "joke.html" %}
</body>
{% endblock %}